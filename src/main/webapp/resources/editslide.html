<div class="lift:surround?with=resource;at=body">
	<head_merge>
	<script type="text/javascript" src="/ckeditor/ckeditor.js"></script>
	<script type="text/javascript" src="/jquery/ckeditorresource.js"></script>
	<script type="text/javascript" src="/jquery/dejavu.js"></script>
	<script type="text/javascript" src="/jquery/editslides.js"></script>
	
	<script type="text/javascript" src="/jquery/departmentselect.js"></script>
	<script type="text/javascript" src="/jquery/ASCIIMathML.js"></script>
	
	<script>
	var departmentSelect = new Object();
	$(document).ready(function(){
		window.setInterval("timerSaver()", 600000);
		
		
		
		CKEDITOR.replace( 'slideText',{
			width : 955, 
			height: 620,
			extraPlugins : 'youTube,addImage,formula,syntaxhighlight,symbol',
			contentsCss : '/deckjs/themes/style/neon_ckeditor.css',
    		toolbar :[
	{ name: 'document',  items: [ 'Source'] },
	{ name: 'clipboard', groups: [ 'clipboard', 'undo' ], items: [ 'Cut', 'Copy', 'Paste', 'PasteText', 'PasteFromWord', '-', 'Undo', 'Redo' ] },
	{ name: 'editing', groups: [ 'find', 'selection', 'spellchecker' ], items: [ 'Find', 'Replace', '-', 'SelectAll']},
	{ name: 'basicstyles', groups: [ 'basicstyles', 'cleanup' ], items: [ 'Bold', 'Italic', 'Underline', 'Strike', 'Subscript', 'Superscript', '-', 'RemoveFormat' ] },
	{ name: 'insert', items: [ 'AddImage', 'Formula', 'YouTube', 'Table', 'HorizontalRule', 'Smiley', 'Symobol', 'Iframe', 'Flash','Syntaxhighlight' ] },
	{ name: 'paragraph', groups: [ 'list', 'indent', 'blocks', 'align', 'bidi' ], items: [ 'NumberedList', 'BulletedList', '-', 'Outdent', 'Indent', '-', 'Blockquote',  '-', 'JustifyLeft', 'JustifyCenter', 'JustifyRight', 'JustifyBlock', '-', 'BidiLtr', 'BidiRtl' ] },
	{ name: 'links', items: [ 'Link', 'Unlink', 'Anchor' ] },
	{ name: 'styles', items: [ 'Styles', 'Format', 'Font', 'FontSize' ] },
	{ name: 'colors', items: [ 'TextColor', 'BGColor' ] },
	{ name: 'tools', items: [ 'Maximize', 'ShowBlocks' ] }
	]
		});
		
		CKEDITOR.on( 'instanceReady', function( ev )
			    {
			        // Out self closing tags the HTML4 way, like <br>.
			        ev.editor.dataProcessor.writer.selfClosingEnd = '/>';
	 });
		
		CKEDITOR.config.disableNativeSpellChecker = false;
		
		CKEDITOR.replace( 'extraText',{
			width : 955, 
			height: 620,
			extraPlugins : 'formula,syntaxhighlight,symbol',
			contentsCss : '/deckjs/themes/style/swiss_ckeditor.css',
    		toolbar :[
	{ name: 'document',  items: [ 'Source'] },
	{ name: 'clipboard', groups: [ 'clipboard', 'undo' ], items: [ 'Cut', 'Copy', 'Paste', 'PasteText', 'PasteFromWord', '-', 'Undo', 'Redo' ] },
	{ name: 'editing', groups: [ 'find', 'selection', 'spellchecker' ], items: [ 'Find', 'Replace', '-', 'SelectAll']},
	{ name: 'basicstyles', groups: [ 'basicstyles', 'cleanup' ], items: [ 'Bold', 'Italic', 'Underline', 'Strike', 'Subscript', 'Superscript', '-', 'RemoveFormat' ] },
	{ name: 'insert', items: [ 'Formula', 'Table', 'HorizontalRule', 'Smiley', 'Symbol','Syntaxhighlight' ] },
	{ name: 'paragraph', groups: [ 'list', 'indent', 'blocks', 'align', 'bidi' ], items: [ 'NumberedList', 'BulletedList', '-', 'Outdent', 'Indent', '-', 'Blockquote', '-', 'JustifyLeft', 'JustifyCenter', 'JustifyRight', 'JustifyBlock', '-', 'BidiLtr', 'BidiRtl' ] },
	{ name: 'links', items: [ 'Link', 'Unlink', 'Anchor' ] },
	{ name: 'styles', items: [ 'Styles', 'Format', 'Font', 'FontSize' ] },
	{ name: 'colors', items: [ 'TextColor', 'BGColor' ] },
	{ name: 'tools', items: [ 'Maximize', 'ShowBlocks' ] }
	]
		});
		
		 $( "#tabs" ).tabs();
		
		var slides = new EditSlides(30);
		departmentSelect = new DepartmentSelect();	
		
		
	});
	
	function timerSaver() {
		if(confirm("Nie zapisano od 10 minut. Zapisać teraz?")) $("#save").trigger('click');
		window.setInterval("timerSaver()", 600000);
	}
	
	var activeEditor = 1;
	function switchEditors(){
		if(activeEditor == 1){
			$("#slideEditorCont").hide();
			$("#extraTextEditorCont").show();
			CKEDITOR.config.contentsCss = '/deckjs/themes/style/swiss.css';
			activeEditor = 2;
		}
		else {
			$("#slideEditorCont").show();
			$("#extraTextEditorCont").hide();
			CKEDITOR.config.contentsCss = '/deckjs/themes/style/neon_ckeditor.css';
			activeEditor = 1;
		}
		
		
		
	}

	

	</script>
		<style>
		div#cffm {
   background-color:#fff;
   font:12px sans-serif;
   color:#000;
   width: 100%;
   height: 400;
   overflow: none;
}
		#titleTheme {width: 300px;}
		
	    .highlightLi {  background-color: red !important; color:white;}
	    #validationMassage { color: red; }
	    #slidesHTML { width: 4000px; height: 700px;}
	    #imageLoaderFrame {width: 100%;}
	    .lista {display:inline-flex; padding: 8px !important; font-weight: bold; font-size: 15px; 
						border: solid 1px black; background-image: none !important;}
	    
		</style>
	
   
	</head_merge>
 
 <div id="boxText">
  <h2>Edycja slajdów</h2>
  <hr/>
  <form class="lift:EditSlideSn.formEdit?form=POST">
    <input id="id" type="hidden" />
  	<label for="titleTheme">Tytuł:</label><input id="titleTheme" class="Name"/><span id="validationMassage"></span><br/>
  	
  	<input id="departmentHidden" type="hidden" />
    <label for="subjects">Przedmiot:</label><select id="subjects"></select>
    <label for="departments">Dział:</label><select id="departments"><option>Pusty</option></select>
    <label for="subjectLevel">Etap edukacyjny:</label><select id="subjectLevel"></select>
    <label for="subjectLevel">Publiczny:</label><input id="public" /> 
     <input id="detailsData" type="hidden" />
    <input id="slidesData" type="hidden" />
    <input id="save" /><input id="cancel"/><input id="delete"/>
  </form>
  <hr/>
  <div class=" tabsConainer">
 	 <div id="addslide">Dodaj nowy slajd: 
  	<input type="radio" value="przed obecnym" name="addSlide" /> przed obecnym 
  	<input type="radio" value="po obecnym" name="addSlide" checked="checked" id="radioAfter"/> po obecnym
  	 <input type="image" src="/images/addico.png" id="addSlideAction" /></div>
  	 <div id="deleteSlide">Usuń akutalny slajd: 
  	 <input type="image" src="/images/delico.png" id="delSlideAction" /></div>
  <hr/>
  <br/>
    
    	<div id="slideEditor">
    	<div id="slideList">
    	<div id="slideChoice"><div class="lista"><span>1</span></div></div>
    	<br/>
    	
    	</div>
    	
    	  <div id="tabs">
<ul>
<li><a href="#tabs-1">Edycja slajdów</a></li>
<li><a href="#tabs-2">Edycja komentarza</a></li>
</ul>
<div id="tabs-1">
<textarea class="ckeditor" id="slideText"></textarea>
</div>
<div id="tabs-2">
<textarea class="ckeditor2" id="extraText"></textarea>
</div>
</div>
    	</div>
    	<br />          
    </div>
   
   <div class="lift:EditSlideSn.slideData">
   <div id="slidesHTML"  style="display:none;"><section id="slideHTML"></section></div>  		
   <div id="detailsHTML" style="display:none;"><details id="detailHTML"></details></div>
   </div> 
   
  </div>
  
  
</div>
