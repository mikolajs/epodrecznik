<!doctype HTML>
<html>
    
<div class="lift:surround?with=admin;at=content">
    <head_merge>
        <script>
          var oTable = $();
            $(document).ready(function() {
                        $('#subjectList').children('table').children('tbody').children('tr').each(function(){
                            $(this).dblclick(function(){beginEditSubject(this);});
                        });
                    
                      oTable = $('#dataTable').dataTable();
                        
                        $('#subjectForm').dialog({
                            autoOpen: false,
                            height: 280,
                            width: 500,
                            modal: true,
                            close: function(){
                               
                            }
                        });
                       
                    });
                    
            
            function beginEditSubject(elem){
                $('#subjectForm').dialog("open");
                $elem = $(elem);
                var id = $elem.attr('id');
                $('#subjectFormId').val(id);
                $elem.children('td').each(function(index) {
                  switch(index){
                  case 0:
                  $('#subjectFormName').val(this.innerHTML);
                  break;
                  default:
                  break;
                  }
                 });
            }
            
            function mkAddSubject(){
                $('#subjectForm').dialog("open");
            }
            
            
        </script>
        <style>label { float:left; width: 200px; font-weight: bold;}
         .buttonsForms {display:block;float:right;padding-right: 50px;}
         .validationMassage {clear:both;color:red;font-size: 11px;}
        </style>
    </head_merge>
   
  <div class="well"><h2>Administracja - Lista przedmiotów</h2></div>
   <div class="row">
        <div id="subjectList" class="lift:Administration.subjectList dataTable_wrapper">
            
            <table id="dataTable" class="display">
                <thead><tr><th>Nazwa</th></tr></thead>
                <tbody><tr><td></td></tr></tbody>
            </table>
        </div>
  </div>
  <div class="row"><button type="button" class="btn btn-success btn-lg"  id="mkAddSubject"  onclick="mkAddSubject();">
  <span class="glyphicon glyphicon-plus-sign"></span> Dodaj przedmiot
</button></div>
  
  <div id="subjectForm" style="display:none;" title="Edycja przedmiotów">
      <form class="lift:Administration.subjectForm?form=POST" type="image">
      <label for="subjectFormName">Pełna nazwa:</label><input id="subjectFormName"/><br/>
      <input id="subjectFormId"/><br/>
      <div class="buttonsForms"><input id="subjectFormSubmit"/><input id="subjectFormDelete"/></div>
      <div class="validationMassage"></div>
      </form>
  </div>
  
  
  <br/>
</div>

</html>