<!doctype HTML>
<html>
    
<div class="lift:surround?with=admin;at=boxText">
    <head_merge>
        <script type="text/javascript" src="/ckeditor/ckeditor.js"></script>
       
    <script >
      $(document).ready(function() {
                        $('#newsList').children('table').children('tbody').children('tr').each(function(){
                            $(this).dblclick(function(){beginEditNews(this);});
                        });
                        
                        $('#newsForm').dialog({
                            autoOpen: false,
                            height: 400,
                            width: 600,
                            modal: true,
                            close: function(){
                               
                            }
                        });
                    });
                    
            function beginEditNews(elem){
                 $('#newsForm').dialog("open");
                 $(elem).children('td').each(function(index) {
                  switch(index){
                  case 0:
                  $('#editTitle').val(this.innerHTML);
                  break;
                  case 1:
                  $('#editContent').val(this.innerHTML);
                  break;
                  case 2:
                  $('#').val(this.innerHTML);
                  break;
                  default:
                  break;
                  }
                 });
                 
            }
            
            function mkAddNews(){
                 $('#newsForm').dialog("open");
                 openCKEditor();
            }
            
            function openCKEditor(){
                 CKEDITOR.replace( 'editContent',{
                width : 550, 
                height:200,
                toolbar : [ [ 'Source'],
                [ 'Cut','Copy','Paste','PasteText','PasteFromWord','-','Undo','Redo' ],
                [ 'Bold','Italic','Underline','Strike','Subscript','Superscript','-','RemoveFormat' ],
                [ 'NumberedList','BulletedList','-','Outdent','Indent','-','Blockquote','JustifyLeft','JustifyCenter','JustifyRight','JustifyBlock','-','BidiLtr','BidiRtl' ],
                [ 'HorizontalRule','SpecialChar' ] ,
                [ 'Format','Font' ],
                [ 'TextColor','BGColor' ] ]
                });
            }
            </script>
    </head_merge>
   
  <h2>Administracja - Aktualności</h2>
  
    <div class="lift:Administration.shortNews" id="newsList">
            <h4>Lista </h4>
            <table>
            <tbody><tr><td></td><td>Temat</td><td>Treść</td> <td>Data</td><td></td></tr></tbody>
            </table>    
             <input id="mkAddNews" type="image" src="/images/addico.png" onclick="mkAddNews();"/>    
    </div>
  
  <div id="newsForm" style="display:none;" title="Edycja newsów">
   <form class="lift:Administration.editNews?form=POST"  >
     
          <input id="editId"/><br/>
          <label for="editTitle">Tytuł:</label><input id="editTitle"/><br/>
          <input id="editImg"/>
          <iframe src="/img" style="width:300px;height:100px;"></iframe><br/>
          <input id="editImage"/><br/>
          <textarea id="editContent" ><textarea></textarea><br/>
          <input id="editDelete"/><input id="editSave"/>
          
     
      </form>
  </div>
  <br/>
</div>

</html>