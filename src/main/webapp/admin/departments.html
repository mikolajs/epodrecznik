<!doctype HTML>
<html>
    
<div class="lift:surround?with=admin;at=boxText">
    <head_merge>
        <script>
        var oTable = $();
            $(document).ready(function() {
                        
                        $('#departmentList').children('table').children('tbody').children('tr').each(function(){
                            $(this).dblclick(function(){beginEditDepartment(this);});
                        });
                         oTable = $('#dataTable').dataTable();
                        
                        $('#departmentForm').dialog({
                            autoOpen: false,
                            height: 280,
                            width: 500,
                            modal: true,
                            close: function(){ 
                            }
                        });
                    });
                    
            
            function beginEditDepartment(elem){
                $('#departmentForm').dialog("open");
                 $elem = $(elem);
                var id = $elem.attr('id');
                $('#departmentFormId').val(id);
                $elem.children('td').each(function(index) {
                  switch(index){
                  case 0:
                  $('#departmentFormName').val(this.innerHTML);
                  break;
                  case 1:
                  $('#departmentFormSubject').val(this.innerHTML);
                  break;
                  default:
                  break;
                  }
                 });
            }
            
            function mkAddDepartment(){
                $('#departmentForm').dialog("open");
            }
            
        </script>
        <style>label { float:left; width: 200px; font-weight: bold;}
         .buttonsForms {display:block;float:right;padding-right: 50px;}
         .validationMassage {clear:both;color:red;font-size: 11px;}
        </style>
    </head_merge>
   
  <h2>Administracja - Działy</h2>
  
  <div id="departmentList" class="lift:Administration.departmentList dataTable_wrapper" >
            <table id="dataTable" class="display">
                <thead><tr><th>Nazwa</th><th>Przedmiot</th></tr></thead>
                <tbody><tr><td></td><td></td></tr></tbody>
            </table>
        <input id="mkAddDepartment" type="image" src="/images/addico.png" onclick="mkAddDepartment();"/>
  </div>
  
  <div id="departmentForm" style="display:none;" title="Edycja działów">
      <form class="lift:Administration.departmentForm?form=POST">
      <label for="departmentFormName">Pełna nazwa:</label><input id="departmentFormName"/><br/>
      <input id="departmentFormId"/><br/>
      <label for="departmentFormSubject">Przedmiot:</label><select id="departmentFormSubject">
          <option>1 przedmiot</option><option>2 przedmot</option><option>3 przedmot</option>
        </select><br/>
       <div class="buttonsForms"><input id="departmentFormSubmit"/><input id="departmentFormDelete"/></div>
       <div class="validationMassage"></div>
      </form>
  </div>
 
</div>
    
</html>