<!DOCTYPE HTML>
<html>
<head>

    <meta name="viewport" content="width=1024, user-scalable=no">
    <!-- Core and extension CSS files -->
    <link rel="stylesheet" href="/deckjs/core/deck.core.css">
    <link rel="stylesheet" href="/deckjs/extensions/status/deck.status.css" >
   
	<link rel="stylesheet"  type="text/css" id="style-theme-link" href="/deckjs/themes/style/neon.css">
    <link rel="stylesheet" id="transition-theme-link" href="/deckjs/themes/transition/horizontal-slide.css">
   
    <script src="/jquery/jquery.min.js"></script>
    <script src="/deckjs/core/deck.core.js"></script>
	<script src="/deckjs/extensions/status/deck.status.js"></script>
    <script>
    function isMSIE(){
    	var userAgent = navigator.userAgent;
    	var msie = userAgent.match(/MSIE/gi);
    	if(msie != null && msie.length > 0) return true;
		else return false;
    }
    
    
    $(document).ready(function() {
    	
        $.deck('.slide'); 
        var arrayId = new Array();
       
       
    $('#next-slide').click(function() {
            $.deck('next');
        }); 
    $('#previous-slide').click(function() {
            $.deck('prev');
        }); 
//       $('#slides').find('section').click(function() {
//            $.deck('next');
//     	  alert($(this).height());
//     	  var h = window.innerHeight - 60;
//     	  if(h < $(this).height()) whittleTemplate();
//        });   
      var h = window.innerHeight - 40;
      $('#slides').css('height', h + 'px' );
      
      var rescaleSlide = function(){
    	var $current = $('#slides').children('.deck-current');
   	    var H = $current.height();
   	    var fSize = 1.2;
   	    var n = 20;
   	   
   	    while(H > h && n > 0) {
   	    	$current.children().each(function(){
   	    		if(this.tagName == "H1") this.style.fontSize = fSize * 1.8 + "em";
   	    		else if(this.tagName == "H2") this.style.fontSize = fSize * 1.4 + "em";
   	    		else this.style.fontSize = fSize + "em";
   	    	});
   	    	fSize -= 0.1; 
   	    	
  		    $current.find('img').each(function(){
  		    		this.width =  this.width * 0.9;
  		    		this.height = this.height * 0.9;
  		    		//this.style.heigth = 'auto';??????????
  		    	});
  				$current.find('span').each(function(){
  		    		$span = $(this);
  		    		var fontSizeStyle = $span.css('font-size');
  					fontSizeStyle = fontSizeStyle.substring(0, fontSizeStyle.length - 2);
  					fontSizeStyle *= 0.9;
  					$span.css('font-size',fontSizeStyle.toString() + 'px');
  		    	});
   	    	
   	    	H = $current.height();
   	    	n--;
   	    }
      }
      
      rescaleSlide();
      
      $(document).bind('deck.change', function(event, from, to) {
    	   window.setTimeout(rescaleSlide, 300);
    	  
    	});
      
      $.extend(true, $.deck.defaults, {
        selectors: {
        statusCurrent: '.deck-status-current',
        statusTotal: '.deck-status-total'
       },
        countNested: true,
      });      
 
     if(isMSIE()){  	
    	alert("Twoja przeglądarka może nie wyświetlić wszystkich elementów prezentacji prawidłwo." + 
    			"Użyj Firefox lub najnowszego Chrome.");
     }
    });
    
    /* var fontSize = 1.2;
    
    function enlargeTemplate(){
    	fontSize += 0.1;
    	imageSize = 1.1;
    	var slideContener = document.getElementById('slides');
    	slideContener.style.fontSize = fontSize+"em";
    	changeFontSpanSize(imageSize);
    	$(slideContener).find('img').each(function(){
    		this.width =  this.width * imageSize;
    		this.style.heigth = 'auto';
    	});
    	
    }
    
    function whittleTemplate(){
    	fontSize -= 0.1;
    	imageSize = 0.9;
    	var slideContener = document.getElementById('slides');
    	slideContener.style.fontSize = fontSize+"em";
    	changeFontSpanSize(imageSize);
    	$(slideContener).find('img').each(function(){
    		this.width =  this.width * imageSize;
    		this.style.heigth = 'auto';
    	});   
    }
    
    function changeFontSpanSize(resize){
    	var slideContener = document.getElementById('slides');
    	$(slideContener).find('span').each(function(){
    		$span = $(this);
    		var fontSizeStyle = $span.css('font-size');
			fontSizeStyle = fontSizeStyle.substring(0, fontSizeStyle.length - 2);
			fontSizeStyle *= resize;
			$span.css('font-size',fontSizeStyle.toString() + 'px');
    	});
    }
    */
    
    var styleId = 0;
    function changeTemplate(){
    	var link = document.getElementById('style-theme-link');
    	switch(styleId) {
    	case 0: 
    		link.setAttribute('href', '/deckjs/themes/style/swiss.css');
    		styleId = 1;
    	    break;
    	case 1: 
    		link.setAttribute('href', '/deckjs/themes/style/web-2.0.css');
    		styleId = 2;
    	    break;
    	case 2: 
    		link.setAttribute('href', '/deckjs/themes/style/neon.css');
    		styleId = 0;
    	    break;
    	default:
    	    break;
    	}
    }
    </script>
    <style>
    
body { background: url(/images/background.png) repeat; margin: 0 auto; }

#header { background: #1a1a1a; 
            position: absolute;
        top: 0; font-weight: bold; 
        text-align: center;
        width: 100%;
                color: #eee; margin: 0 auto; border 0 0 2px 0 solid red;
                }
#header  > ul { position: relative; top 0; margin: 0; padding: 0; }
#header  > ul > li { display: inline; decoration: none; vertical-align: middle; 
							border: 0 3px 0 3px 0; padding: 0 5px 0 5px;
                             font: 12px serif; color: green; }
                                
#header >  ul > li > span { font: 15px sans; color: #eee; padding:0;}
#header > ul > li > a { color: orange; text-decoration: none; font: 16px sans; vertical-align: middle;}
#header >  ul > li > img { vertical-align: middle; padding: 0; }
#slides { position: relative; top: 35px; }                                
    
    </style>
</head>
<body class="lift:ShowSlideSn.slideData">
<div id="header">
   <ul>
    <li id="previous-slide"><img src="/images/previous.png"/></li>
    <li><a href="/index">podrecznik.edu.pl</a></li>
    <li>Temat: <span id="title">Jakiś temat</span></li>
    <!--  <li id="small-slide"><img src="/images/minus.png" onclick="whittleTemplate()"/></li>-->
    <li id="change-slide"><img src="/images/change.png" onclick="changeTemplate()"/></li>
    <!--  <li id="large-slide"><img src="/images/plus.png" onclick="enlargeTemplate()"/></li>-->
    <li>Przedmiot: <span id="subject">Fizyka liceum</span></li>
    <li>Etap:<span id="etap">3</span></li>
    <li>Dział: <span id="department">termodynamika</span></li>
    <li id="next-slide"><img src="/images/next.png"/></li>  
   </ul>  
</div>
<div id="slides" class="deck-container">   
  <section id="slideHTML"></section>
   <p class="deck-status">
   <span class="deck-status-current"></span>
   /
   <span class="deck-status-total"></span>
</p>
</div>
</body>
</html>